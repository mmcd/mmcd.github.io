<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">

    <title>random java hack</title>
    <meta name="description" content="Nothing really new to see here">
    <meta name="robots" content="index,follow">
    
        <meta name="author" content="michael">
    
    <meta itemprop="name" content="Wroth - cranky... pretty much all the time these days">

    <meta property="og:url" content="http://www.wroth.com//snippets/2017/04/22/random-java-hack.html" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="random java hack" />
    <meta property="og:description" content="My thinking is that maybe if I put things in one place I will actually be able to find them later." />
    <meta property="og:image" content="http://www.wroth.com//images/favicon.png" />
    <meta property="og:image:type" content="image/png" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@mjmcd" />
    <meta name="twitter:title" content="random java hack" />
    <meta name="twitter:description" content="My thinking is that maybe if I put things in one place I will actually be able to find them later." />
    <meta name="twitter:image" content="http://www.wroth.com//images/favicon.png" />

    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM feed">
    <link href="/feed.xml" type="application/rss+xml" rel="alternate" title="RSS feed">


    <link rel="shortcut icon" href="/images/favicon.png">

    <link rel="stylesheet" href="/styles/mlz/mlz.css">
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/syntax.css">
    <link rel="stylesheet" href="/styles/github-markdown.css">
    <link rel="stylesheet" href="/styles/fa/css/font-awesome.min.css">

</head>

  <body>
    <div class="container">
      <div class="section my-section" itemprop="mainContentOfPage" itemscope itemtype="https://schema.org/WebPageElement">
        <h1 itemprop="headline"><a class="my-name" href="/">Wroth - cranky... pretty much all the time these days</a></h1>
        <p class="my-description" itemprop="text">
          I do research, allegedly, into geoinformatics, bioinformatics, high performance computing, machine learning... I also fumble around blindly with cluster hardware and robotics for fun.
          <br>
          <i class="fa fa-map-marker"></i> Atlanta, GA, USA
        </p>
        <div class="row">
          <div class="col s12 m8 offset-m2 l6 offset-l3">
            <article class="left-align" itemscope itemtype="http://schema.org/BlogPosting">

  <h2 class="my-mini-heading" itemprop="name headline">random java hack<br>
    <span class="my-mini-heading-sub">
    <time datetime="2017-04-22T21:28:54-04:00" itemprop="datePublished">
      Apr 22, 2017
    </time>
    </span></h2>

  <div class="my-text-body">
    <h2 id="nothing-really-new-to-see-here">Nothing really new to see here</h2>

<p>You can find versions of this all over the internet, I am just tired of not saving my own hacks and fixes in easy to find ways. This basically redirects stdout to something else, saves it, then puts stdout back. allowing me to capture output and fix something I shouldn’t have had to fix because the sample code for the class (not the Professor’s fault) is completely undocumented and wierd. It basically let me drop prefixes on a toy java database because the way you pulled tables created copies instead of clones.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><pre>        <span class="n">ByteArrayOutputStream</span> <span class="n">bstream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayOutputStream</span><span class="o">();</span>
        <span class="n">PrintStream</span> <span class="n">pstream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PrintStream</span><span class="o">(</span><span class="n">bstream</span><span class="o">);</span>
        <span class="n">PrintStream</span> <span class="n">stock</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">setOut</span><span class="o">(</span><span class="n">pstream</span><span class="o">);</span>
        <span class="n">dbengine</span><span class="o">.</span><span class="na">displaySchema</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">setOut</span><span class="o">(</span><span class="n">stock</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">HACK</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">HACK</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">bstream</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">(),</span> <span class="s">"UTF-8"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="c1">// System.out.println(HACK);</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">prefix</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">HACK</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\\n"</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="n">String</span> <span class="n">t</span> <span class="o">:</span> <span class="n">tmp</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"("</span><span class="o">))</span> 
                <span class="n">prefix</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\\("</span><span class="o">)[</span><span class="mi">0</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="n">String</span> <span class="n">p</span> <span class="o">:</span> <span class="n">prefix</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Relation</span> <span class="n">r</span> <span class="o">=</span> <span class="n">dbengine</span><span class="o">.</span><span class="na">getRelation</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="n">r</span><span class="o">.</span><span class="na">prefixColumnNames</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
        <span class="o">}</span>
</pre></td></tr></tbody></table>
</div>
</div>

    
    
    
    <p id="post-meta"></p>

  </div>

  <p class="center-align my-text-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
    
      <span itemprop="name">an article by michael</span>
    
    <br>
    
      <i class="fa fa-tags" aria-hidden="true"></i>
      
        <span class="my-tag">programming</span>&ensp;
      
        <span class="my-tag">java</span>&ensp;
      
        <span class="my-tag">hacks</span>&ensp;
      
        <span class="my-tag">io</span>&ensp;
      
    
  </p>

  <div class="center-align">
  
    <a class="waves-effect waves-teal btn-flat btn-large my-thin-btn disabled"><i class="fa fa-angle-double-left" aria-hidden="true"></i></a>
  
  <a class="waves-effect waves-teal btn-flat btn-large" href="/">Home</a>
  
    <a class="waves-effect waves-teal btn-flat btn-large my-thin-btn" href="/research/2017/04/21/and-so-it-begins.html"><i class="fa fa-angle-double-right" aria-hidden="true"></i></a>
  
  </div>
</article>



          </div>
        </div>
      </div>
    </div>
    <footer class="my-footer z-depth-2">
    <p>
        <a class="waves-effect waves-teal btn-flat my-imprint-link" href="/imprint.html">Imprint</a>
        
        <a href="mailto:mmcdermott2@student.gsu.edu" class="waves-effect waves-teal btn-flat my-mail-link"><i class="fa fa-envelope-o"></i></a>
        
        
        <a href="https://github.com/mmcd" class="waves-effect waves-teal btn-flat my-github-link"><i class="fa fa-github"></i></a>
        
        
        <a href="https://twitter.com/mjmcd" class="waves-effect waves-teal btn-flat my-twitter-link"><i class="fa fa-twitter"></i></a>
        
    </p>
</footer>
<script type="text/javascript" src="/styles/jquery.js"></script>
<script type="text/javascript" src="/styles/mlz/mlz.js"></script>
<script type="text/javascript" src="/styles/headroom.js"></script>
<script type="text/javascript" src="/styles/jQuery.headroom.js"></script>
<script> $(".my-footer").headroom(); </script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-97870498-1', 'auto');
  ga('send', 'pageview');

</script>


  </body>
</html>
