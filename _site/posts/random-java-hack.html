<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="random java hack - michael mcdermott - Author:michael mcdermott"/> 
	<meta name="keywords" content="programming,java,hacks,io"/>
    <title>random java hack - michael mcdermott</title>
    <!-- Bootstrap Core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <!-- Custom CSS -->
    <link href="/css/blog.css" rel="stylesheet"/>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media
    queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file://
    -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js">
      </script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js">
      </script>
    <![endif]-->
        <!-- jQuery Version 1.11.0 -->
    <script src="/js/jquery-1.11.0.js"> </script>
    <!-- Bootstrap Core JavaScript -->
    <script src="/js/bootstrap.min.js"></script>
  </head>
  
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">
              Toggle navigation
            </span>
            <span class="icon-bar">
            </span>
            <span class="icon-bar">
            </span>
            <span class="icon-bar">
            </span>
          </button>
          <a class="navbar-brand" href="/">
            Home
          </a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          		<ul class="nav navbar-nav">
			
				<li>
				  <a href="/posts/research.html"><span class="label">
					Research
					</span>
				  </a>
				</li>
			
				<li>
				  <a href="/posts/cuda.html"><span class="label">
					C99/Cuda/C++
					</span>
				  </a>
				</li>
			
				<li>
				  <a href="/posts/java.html"><span class="label">
					Java
					</span>
				  </a>
				</li>
			
				<li>
				  <a href="/posts/python.html"><span class="label">
					Python
					</span>
				  </a>
				</li>
			
				<li>
				  <a href="/posts/cluster.html"><span class="label">
					Cluster
					</span>
				  </a>
				</li>
			
				<li>
				  <a href="/posts/papers.html"><span class="label">
					papers
					</span>
				  </a>
				</li>
			
				<li>
				  <a href="/posts/other.html"><span class="label">
					misc
					</span>
				  </a>
				</li>
			

				<li><a href="http://www.twitter.com/mjmcd" class="icon fa-twitter" target="_blank"><span class="label">twitter</span></a></li>
				
				
				
				
				<li><a href="http://www.github.com/mmcd" class="icon fa-github" target="_blank"><span class="label">github</span></a></li>
				
				
				
				<li><a href="http://www.linkedin.com/in/mjmcdermott" class="icon fa-linkedin" target="_blank"><span class="label">linkedin</span></a></li>
				

		</ul>  
        </div>
        <!-- /.navbar-collapse -->
      </div>
      <!-- /.container -->
    </nav>
    <!-- Page Content -->
    <div class="container">
      <div class="row">
        <!-- Blog Entries Column -->
        <div class="col-md-8">
          <!-- Navi -->

<!-- Title -->
<h2>random java hack</h2>
<b>label：</b><a href="/tags.html#programming"><i>programming</i></a>, <a href="/tags.html#java"><i>java</i></a>, <a href="/tags.html#hacks"><i>hacks</i></a>, <a href="/tags.html#io"><i>io</i></a>
<div class="post-date">
	<span class="glyphicon glyphicon-time"></span>
	2017-04-23
</div>
<br/>

<!-- content -->
<div style="text-indent:2em;">
<h2 id="nothing-really-new-to-see-here">Nothing really new to see here</h2>

<p>You can find versions of this all over the internet, I am just tired of not saving my own hacks and fixes in easy to find ways. This basically redirects stdout to something else, saves it, then puts stdout back. allowing me to capture output and fix something I shouldn’t have had to fix because the sample code for the class (not the Professor’s fault) is completely undocumented and wierd. It basically let me drop prefixes on a toy java database because the way you pulled tables created copies instead of clones.</p>
<div class="language-java highlighter-rouge"><div class="syntax"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></td><td class="code"><pre>        <span class="n">ByteArrayOutputStream</span> <span class="n">bstream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayOutputStream</span><span class="o">();</span>
        <span class="n">PrintStream</span> <span class="n">pstream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PrintStream</span><span class="o">(</span><span class="n">bstream</span><span class="o">);</span>
        <span class="n">PrintStream</span> <span class="n">stock</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">setOut</span><span class="o">(</span><span class="n">pstream</span><span class="o">);</span>
        <span class="n">dbengine</span><span class="o">.</span><span class="na">displaySchema</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">setOut</span><span class="o">(</span><span class="n">stock</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">HACK</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">HACK</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">bstream</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">(),</span> <span class="s">"UTF-8"</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="c1">// System.out.println(HACK);</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">prefix</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
        <span class="n">String</span><span class="o">[]</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">HACK</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\\n"</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="n">String</span> <span class="n">t</span> <span class="o">:</span> <span class="n">tmp</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"("</span><span class="o">))</span> 
                <span class="n">prefix</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">"\\("</span><span class="o">)[</span><span class="mi">0</span><span class="o">]);</span>
        <span class="o">}</span>
        <span class="k">for</span><span class="o">(</span><span class="n">String</span> <span class="n">p</span> <span class="o">:</span> <span class="n">prefix</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Relation</span> <span class="n">r</span> <span class="o">=</span> <span class="n">dbengine</span><span class="o">.</span><span class="na">getRelation</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="n">r</span><span class="o">.</span><span class="na">prefixColumnNames</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
        <span class="o">}</span>
</pre></td></tr></tbody></table>
</div>
</div>

</div>

<br/>
<b>links to this article: </b><a href="http://localhost:4000/posts/random-java-hack.html" title="">http://localhost:4000/posts/random-java-hack.html</a>

<!-- next and previous -->
<div style="margin-top:15px; margin-bottom:10px">
  
  <span class="next">
    On the article：
    <a href="/posts/and-so-it-begins.html">
      And So It Begins
    </a>
  </span>
   
  
</div>
<hr>
<!-- Blog Comments -->
<div class="media">
  <!-- 请修改_includes/comment.html添加评论代码。 -->
</div>
        </div>
        <!-- Blog Sidebar Widgets Column -->
        <div class="col-md-4">
          <!-- Blog Categories Well -->
          <div class="well">
            <h4>
              Category
            </h4>
            <div class="row">
                            <div class="col-lg-6">
                <ul class="list-unstyled">
                  <li>
                    <a href="/posts/research.html">
                      Research
                    </a>
                  </li>
                  <li>
                    <a href="/posts/cuda.html">
                      C99/Cuda/C++
                    </a>
                  </li>
                  <li>
                    <a href="/posts/java.html">
                      Java
                    </a>
                  </li>
                  <li>
                    <a href="/posts/python.html">
                      Python
                    </a>
                  </li>
                 
                  <li>
                    <a href="/archives.html">
                      Archive
                    </a>
                  </li>
                </ul>
              </div>
              <!-- /.col-lg-6 -->
              <div class="col-lg-6">
                <ul class="list-unstyled">
                  <li>
                    <a href="/posts/cluster.html">
                      Cluster
                    </a>
                  </li>
                  <li>
                    <a href="/posts/papers.html">
                      Papers
                    </a>
                  </li>
                  <li>
                    <a href="/posts/other.html">
                      Other
                    </a>
                  </li>
                  <li>
                    <a href="/tags.html">
                      Tags
                    </a>
                  </li>
                </ul>
              </div>
              <!-- /.col-lg-6 -->
 
            </div>
            <!-- /.row -->
          </div>
		  <!-- Blog Recent Well -->
          <div class="well">
            <h4>
              Newest
            </h4>
			<div class="row">
                            <div class="col-lg-12">
                <ul class="list-unstyled">
				
                  <li>
                    <a href="/posts/random-java-hack.html">
                      random java hack
                    </a>
                  </li>
				
                  <li>
                    <a href="/posts/and-so-it-begins.html">
                      And So It Begins
                    </a>
                  </li>
				  
                </ul>
              </div> 
			</div>
          </div>
        </div>
      </div>
      <!-- /.row -->

      <!-- Footer -->
      <footer>
        <div class="row">
          <div class="col-lg-12">
                        <div style="text-align:center;margin-top:15px;">
				Copyright &copy; michael mcdermott, generated by Jekyll
				<br/>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-97870498-1', 'auto');
  ga('send', 'pageview');
</script>

            </div>
 
          </div>
          <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
      </footer>
    </div>
    <!-- /.container -->
  </body>

</html>
